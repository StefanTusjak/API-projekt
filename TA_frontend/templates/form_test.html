<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>FormulÃ¡Å™ s chybami</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 700px;
            margin: 40px auto;
        }
        input, button {
            padding: 8px;
            width: 100%;
            margin-bottom: 16px;
        }
        ul, ol {
            background: #f9f9f9;
            padding: 12px;
            border: 1px solid #ddd;
            margin-bottom: 24px;
        }
        li {
            margin-bottom: 6px;
        }
    </style>
</head>
<body>
    <h1>âŒ FormulÃ¡Å™ s chybami</h1>

    <p>
        Tento formulÃ¡Å™ slouÅ¾Ã­ pro demonstraci Å¡patnÃ©ho nÃ¡vrhu. Obsahuje zÃ¡mÄ›rnÃ© chyby pro testovÃ¡nÃ­ validacÃ­ a reakce backendu.
    </p>

    <h3>ğŸ” Co je Å¡patnÄ›?</h3>
    <ul>
        <li>âŒ Å½Ã¡dnÃ¡ HTML validace (`required`, `type="email"`, atd.)</li>
        <li>âŒ UÅ¾ivatel mÅ¯Å¾e odeslat prÃ¡zdnÃ½ formulÃ¡Å™</li>
        <li>âŒ Nezobrazuje se Å¾Ã¡dnÃ¡ zpÄ›tnÃ¡ vazba (chybovÃ¡/ÃºspÄ›Å¡nÃ¡ hlÃ¡Å¡ka)</li>
        <li>âŒ DuplicitnÃ­ e-maily nejsou oÅ¡etÅ™eny v UI</li>
    </ul>

    <h3>ğŸ§ª Ãškoly pro testovÃ¡nÃ­:</h3>
    <ol>
        <li>OdeÅ¡li formulÃ¡Å™ bez vyplnÄ›nÃ­ polÃ­ â€“ co se stane?</li>
        <li>Zadej e-mail bez zavinÃ¡Äe â€“ projde to?</li>
        <li>Zkus odeslat vÃ­cekrÃ¡t stejnÃ½ e-mail â€“ jak reaguje backend?</li>
        <li>Zkus formulÃ¡Å™ odeslat a zjistit, zda vidÃ­Å¡ odpovÄ›Ä</li>
        <li>OtevÅ™i konzoli (F12) a sleduj sÃ­Å¥ovÃ© poÅ¾adavky</li>
    </ol>

    <form id="brokenForm">
        <label for="jmeno">JmÃ©no (bez validace):</label>
        <input type="text" id="jmeno" name="jmeno">

        <label for="email">E-mail (chybnÄ› jako text):</label>
        <input type="text" id="email" name="email">

        <button type="submit">Odeslat</button>
    </form>

    <!-- Å½Ã¡dnÃ¡ zpÄ›tnÃ¡ vazba â€“ to je ÃºÄel -->
    <p><em>Po odeslÃ¡nÃ­ nedojde k Å¾Ã¡dnÃ©mu oznÃ¡menÃ­ o ÃºspÄ›chu Äi chybÄ›.</em></p>

    <p><a href="/">â¬…ï¸ PÅ™ejÃ­t na sprÃ¡vnÃ½ formulÃ¡Å™</a></p>

    <script>
        const form = document.getElementById('brokenForm');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            const data = {
                jmeno: form.jmeno.value,
                email: form.email.value
            };

            // ZÃ¡mÄ›rnÄ›: bez jakÃ©koli zpÄ›tnÃ© vazby nebo kontroly odpovÄ›di
            await fetch("/users", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            });

            // UÅ¾ivatel nevÃ­, jestli byl poÅ¾adavek ÃºspÄ›Å¡nÃ½
        });
    </script>
</body>
</html>
